from apps.core.constants import get_month_name, get_month_number, format_date
from apps.payments.models import DepartmentSaving, ChurchLedger
from decimal import Decimal
from apps.users.models import User

savings = [
    {"department": 2, "branch": 5, "amount": 8309.06, "savings_date": "2023-01-10"},
    {"department": 1, "branch": 5, "amount": 30732.57, "savings_date": "2020-12-31"},
    {"department": 2, "branch": 5, "amount": 40850.8, "savings_date": "2022-09-29"},
    {"department": 2, "branch": 5, "amount": 26408.16, "savings_date": "2024-04-22"},
    {"department": 3, "branch": 5, "amount": 56027.25, "savings_date": "2020-09-03"},
    {"department": 2, "branch": 5, "amount": 50830.86, "savings_date": "2022-07-11"},
    {"department": 3, "branch": 5, "amount": 24065.61, "savings_date": "2021-08-19"},
    {"department": 3, "branch": 5, "amount": 57283.18, "savings_date": "2025-06-21"},
    {"department": 2, "branch": 5, "amount": 92322.8, "savings_date": "2020-12-10"},
    {"department": 3, "branch": 5, "amount": 84171.64, "savings_date": "2023-05-28"},
    {"department": 1, "branch": 5, "amount": 7820.76, "savings_date": "2025-01-04"},
    {"department": 3, "branch": 5, "amount": 87031.99, "savings_date": "2024-08-13"},
    {"department": 3, "branch": 5, "amount": 81096.08, "savings_date": "2022-12-23"},
    {"department": 2, "branch": 5, "amount": 68511.71, "savings_date": "2023-07-22"},
    {"department": 3, "branch": 5, "amount": 58727.67, "savings_date": "2024-01-16"},
    {"department": 1, "branch": 5, "amount": 59942.91, "savings_date": "2023-12-17"},
    {"department": 2, "branch": 5, "amount": 60749.61, "savings_date": "2024-01-19"},
    {"department": 1, "branch": 5, "amount": 57684.09, "savings_date": "2022-11-26"},
    {"department": 2, "branch": 5, "amount": 95527.96, "savings_date": "2021-09-16"},
    {"department": 3, "branch": 5, "amount": 75942.39, "savings_date": "2020-10-10"},
    {"department": 1, "branch": 5, "amount": 7297.72, "savings_date": "2024-04-24"},
    {"department": 2, "branch": 5, "amount": 31380.05, "savings_date": "2022-06-10"},
    {"department": 1, "branch": 5, "amount": 68203.44, "savings_date": "2020-08-19"},
    {"department": 2, "branch": 5, "amount": 75988.13, "savings_date": "2023-08-07"},
    {"department": 3, "branch": 5, "amount": 19699.07, "savings_date": "2024-04-24"},
    {"department": 2, "branch": 5, "amount": 27268.36, "savings_date": "2023-12-02"},
    {"department": 3, "branch": 5, "amount": 37346.94, "savings_date": "2022-07-26"},
    {"department": 2, "branch": 5, "amount": 64473.73, "savings_date": "2021-08-16"},
    {"department": 1, "branch": 5, "amount": 77777.36, "savings_date": "2020-03-10"},
    {"department": 2, "branch": 5, "amount": 68684.76, "savings_date": "2020-10-11"},
    {"department": 2, "branch": 5, "amount": 13527.71, "savings_date": "2024-03-24"},
    {"department": 2, "branch": 5, "amount": 64650.35, "savings_date": "2020-12-20"},
    {"department": 1, "branch": 5, "amount": 8429.54, "savings_date": "2021-07-20"},
    {"department": 2, "branch": 5, "amount": 96054.05, "savings_date": "2024-02-07"},
    {"department": 2, "branch": 5, "amount": 2310.77, "savings_date": "2021-02-28"},
    {"department": 1, "branch": 5, "amount": 71634.77, "savings_date": "2022-08-12"},
    {"department": 3, "branch": 5, "amount": 4464.86, "savings_date": "2023-02-09"},
    {"department": 1, "branch": 5, "amount": 16601.59, "savings_date": "2021-03-26"},
    {"department": 2, "branch": 5, "amount": 93132.69, "savings_date": "2021-04-29"},
    {"department": 3, "branch": 5, "amount": 1377.76, "savings_date": "2022-08-20"},
    {"department": 2, "branch": 5, "amount": 89224.82, "savings_date": "2023-02-22"},
    {"department": 1, "branch": 5, "amount": 19078.44, "savings_date": "2023-02-11"},
    {"department": 3, "branch": 5, "amount": 28651.13, "savings_date": "2025-04-11"},
    {"department": 2, "branch": 5, "amount": 71594.65, "savings_date": "2020-03-24"},
    {"department": 3, "branch": 5, "amount": 92196.51, "savings_date": "2020-06-22"},
    {"department": 1, "branch": 5, "amount": 83379.83, "savings_date": "2020-04-06"},
    {"department": 3, "branch": 5, "amount": 72828.1, "savings_date": "2023-09-30"},
    {"department": 1, "branch": 5, "amount": 34741.26, "savings_date": "2025-05-21"},
    {"department": 1, "branch": 5, "amount": 46147.22, "savings_date": "2023-12-05"},
    {"department": 3, "branch": 5, "amount": 26785.3, "savings_date": "2024-04-07"},
    {"department": 2, "branch": 5, "amount": 47249.78, "savings_date": "2021-05-26"},
    {"department": 3, "branch": 5, "amount": 67516.9, "savings_date": "2024-09-04"},
    {"department": 3, "branch": 5, "amount": 33633.47, "savings_date": "2024-06-05"},
    {"department": 3, "branch": 5, "amount": 63385.84, "savings_date": "2023-07-17"},
    {"department": 2, "branch": 5, "amount": 63665.68, "savings_date": "2024-03-24"},
    {"department": 1, "branch": 5, "amount": 19760.75, "savings_date": "2024-07-08"},
    {"department": 1, "branch": 5, "amount": 3689.86, "savings_date": "2022-05-15"},
    {"department": 2, "branch": 5, "amount": 97034.08, "savings_date": "2024-09-26"},
    {"department": 3, "branch": 5, "amount": 38348.69, "savings_date": "2025-01-16"},
    {"department": 1, "branch": 5, "amount": 59486.44, "savings_date": "2021-08-13"},
    {"department": 2, "branch": 5, "amount": 49402.76, "savings_date": "2021-01-21"},
    {"department": 3, "branch": 5, "amount": 70016.81, "savings_date": "2021-06-11"},
    {"department": 1, "branch": 5, "amount": 95371.23, "savings_date": "2022-07-15"},
    {"department": 2, "branch": 5, "amount": 46044.92, "savings_date": "2024-06-23"},
    {"department": 3, "branch": 5, "amount": 82591.4, "savings_date": "2021-05-06"},
    {"department": 1, "branch": 5, "amount": 69300.16, "savings_date": "2024-09-02"},
    {"department": 3, "branch": 5, "amount": 61886.6, "savings_date": "2020-11-18"},
    {"department": 1, "branch": 5, "amount": 5408.91, "savings_date": "2024-11-10"},
    {"department": 1, "branch": 5, "amount": 85457.08, "savings_date": "2025-04-21"},
    {"department": 2, "branch": 5, "amount": 30994.87, "savings_date": "2020-11-09"},
    {"department": 2, "branch": 5, "amount": 48836.04, "savings_date": "2023-04-01"},
    {"department": 2, "branch": 5, "amount": 62682.08, "savings_date": "2022-01-31"},
    {"department": 2, "branch": 5, "amount": 97772.08, "savings_date": "2021-04-01"},
    {"department": 2, "branch": 5, "amount": 35076.04, "savings_date": "2022-10-18"},
    {"department": 1, "branch": 5, "amount": 67129.45, "savings_date": "2023-11-24"},
    {"department": 1, "branch": 5, "amount": 23368.16, "savings_date": "2023-04-23"},
    {"department": 3, "branch": 5, "amount": 96296.57, "savings_date": "2024-05-30"},
    {"department": 3, "branch": 5, "amount": 69295.53, "savings_date": "2023-10-04"},
    {"department": 2, "branch": 5, "amount": 75886.04, "savings_date": "2022-04-08"},
    {"department": 2, "branch": 5, "amount": 83448.61, "savings_date": "2023-10-24"},
    {"department": 3, "branch": 5, "amount": 69190.28, "savings_date": "2022-07-06"},
    {"department": 2, "branch": 5, "amount": 13371.76, "savings_date": "2021-03-13"},
    {"department": 1, "branch": 5, "amount": 10526.52, "savings_date": "2023-02-06"},
    {"department": 2, "branch": 5, "amount": 2248.38, "savings_date": "2021-09-21"},
    {"department": 2, "branch": 5, "amount": 73227.99, "savings_date": "2023-09-24"},
    {"department": 3, "branch": 5, "amount": 32487.85, "savings_date": "2021-12-21"},
    {"department": 1, "branch": 5, "amount": 43757.38, "savings_date": "2021-11-27"},
    {"department": 2, "branch": 5, "amount": 96448.31, "savings_date": "2020-04-15"},
    {"department": 1, "branch": 5, "amount": 21450.42, "savings_date": "2023-03-17"},
    {"department": 1, "branch": 5, "amount": 8785.62, "savings_date": "2025-06-14"},
    {"department": 3, "branch": 5, "amount": 52934.37, "savings_date": "2025-06-15"},
    {"department": 2, "branch": 5, "amount": 26026.37, "savings_date": "2024-10-31"},
    {"department": 3, "branch": 5, "amount": 29364.8, "savings_date": "2021-12-23"},
    {"department": 3, "branch": 5, "amount": 99931.54, "savings_date": "2022-09-30"},
    {"department": 3, "branch": 5, "amount": 50609.51, "savings_date": "2024-02-09"},
    {"department": 2, "branch": 5, "amount": 88562.36, "savings_date": "2024-10-14"},
    {"department": 2, "branch": 5, "amount": 70274.28, "savings_date": "2020-03-01"},
    {"department": 2, "branch": 5, "amount": 28481.49, "savings_date": "2021-02-20"},
    {"department": 2, "branch": 5, "amount": 21268.62, "savings_date": "2025-04-03"},
    {"department": 2, "branch": 5, "amount": 37134.03, "savings_date": "2020-01-08"},
    {"department": 3, "branch": 5, "amount": 57947.02, "savings_date": "2020-09-16"},
    {"department": 1, "branch": 5, "amount": 11967.21, "savings_date": "2023-10-08"},
    {"department": 1, "branch": 5, "amount": 34617.23, "savings_date": "2022-12-15"},
    {"department": 2, "branch": 5, "amount": 58101.14, "savings_date": "2024-09-02"},
    {"department": 2, "branch": 5, "amount": 23527.22, "savings_date": "2023-09-15"},
    {"department": 3, "branch": 5, "amount": 89784.48, "savings_date": "2021-10-20"},
    {"department": 1, "branch": 5, "amount": 32418.06, "savings_date": "2024-10-01"},
    {"department": 1, "branch": 5, "amount": 71406.53, "savings_date": "2021-07-13"},
    {"department": 1, "branch": 5, "amount": 50749.05, "savings_date": "2023-08-09"},
    {"department": 3, "branch": 5, "amount": 64396.07, "savings_date": "2020-03-30"},
    {"department": 3, "branch": 5, "amount": 51457.83, "savings_date": "2024-06-06"},
    {"department": 1, "branch": 5, "amount": 78735.17, "savings_date": "2020-09-21"},
    {"department": 1, "branch": 5, "amount": 5915.88, "savings_date": "2022-04-10"},
    {"department": 2, "branch": 5, "amount": 1963.84, "savings_date": "2023-09-13"},
    {"department": 3, "branch": 5, "amount": 78245.64, "savings_date": "2020-09-11"},
    {"department": 2, "branch": 5, "amount": 65672.88, "savings_date": "2024-10-17"},
    {"department": 2, "branch": 5, "amount": 68447.81, "savings_date": "2022-06-07"},
    {"department": 3, "branch": 5, "amount": 86537.76, "savings_date": "2022-12-23"},
    {"department": 2, "branch": 5, "amount": 73407.92, "savings_date": "2022-05-04"},
    {"department": 2, "branch": 5, "amount": 63233.9, "savings_date": "2024-12-15"},
    {"department": 1, "branch": 5, "amount": 27414.49, "savings_date": "2021-02-22"},
    {"department": 3, "branch": 5, "amount": 34858.95, "savings_date": "2021-03-07"},
    {"department": 2, "branch": 5, "amount": 34803.57, "savings_date": "2024-11-21"},
    {"department": 1, "branch": 5, "amount": 30851.21, "savings_date": "2022-03-05"},
    {"department": 2, "branch": 5, "amount": 16091.18, "savings_date": "2021-05-29"},
    {"department": 1, "branch": 5, "amount": 55718.03, "savings_date": "2022-04-17"},
    {"department": 2, "branch": 5, "amount": 18971.66, "savings_date": "2025-04-29"},
    {"department": 1, "branch": 5, "amount": 25187.71, "savings_date": "2020-09-14"},
    {"department": 3, "branch": 5, "amount": 58264.87, "savings_date": "2024-09-12"},
    {"department": 1, "branch": 5, "amount": 88318.65, "savings_date": "2024-01-15"},
    {"department": 3, "branch": 5, "amount": 23113.54, "savings_date": "2020-08-11"},
    {"department": 1, "branch": 5, "amount": 74721.3, "savings_date": "2024-11-04"},
    {"department": 2, "branch": 5, "amount": 60643.6, "savings_date": "2023-05-08"},
    {"department": 2, "branch": 5, "amount": 8445.6, "savings_date": "2023-02-18"},
    {"department": 3, "branch": 5, "amount": 57295.52, "savings_date": "2023-09-16"},
    {"department": 2, "branch": 5, "amount": 70718.24, "savings_date": "2022-07-25"},
    {"department": 3, "branch": 5, "amount": 65010.09, "savings_date": "2023-11-02"},
    {"department": 1, "branch": 5, "amount": 60056.8, "savings_date": "2024-02-13"},
    {"department": 3, "branch": 5, "amount": 31462.24, "savings_date": "2021-03-11"},
    {"department": 2, "branch": 5, "amount": 74897.02, "savings_date": "2025-01-06"},
    {"department": 2, "branch": 5, "amount": 44923.06, "savings_date": "2022-08-08"},
    {"department": 3, "branch": 5, "amount": 42058.21, "savings_date": "2020-10-12"},
    {"department": 1, "branch": 5, "amount": 13565.24, "savings_date": "2024-04-01"},
    {"department": 2, "branch": 5, "amount": 81197.41, "savings_date": "2024-07-30"},
    {"department": 2, "branch": 5, "amount": 82691.99, "savings_date": "2024-01-09"},
    {"department": 3, "branch": 5, "amount": 31286.11, "savings_date": "2024-04-06"},
    {"department": 3, "branch": 5, "amount": 15783.83, "savings_date": "2020-08-30"},
    {"department": 2, "branch": 5, "amount": 3056.01, "savings_date": "2022-01-13"},
    {"department": 3, "branch": 5, "amount": 96390.58, "savings_date": "2025-04-27"},
    {"department": 1, "branch": 5, "amount": 22852.79, "savings_date": "2021-08-11"},
]


user = User.objects.filter(username="admin").first()


def load_department_savings():
    for record in savings:
        department = record.get("department")
        branch = record.get("branch")

        amount = record.get("amount")
        savings_date = record.get("savings_date")

        date_obj = format_date(savings_date)
        month_name = get_month_name(date_obj.month)
        year = date_obj.year

        saving = DepartmentSaving.objects.create(
            department_id=department,
            branch_id=branch,
            amount=amount,
            savings_date=savings_date,
            captured_by=user,
            month=month_name,
            year=year,
        )

        ChurchLedger.objects.create(
            name=f"{saving.department.name} Saving",
            description=f"Department Saving - {saving.department.name} - {saving.branch.name}",
            amount=Decimal(amount),
            direction="Income",
            user=user,
            month=month_name,
            year=year,
            transaction_date=savings_date,
        )

        print(
            f"Loaded saving for department {saving.department.name} on {savings_date}"
        )
